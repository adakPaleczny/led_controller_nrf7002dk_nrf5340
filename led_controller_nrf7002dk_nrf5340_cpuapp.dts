/*
 * Copyright (c) 2023 Nordic Semiconductor ASA
 *
 * SPDX-License-Identifier: LicenseRef-Nordic-5-Clause
 */

/dts-v1/;
#include <nordic/nrf5340_cpuapp_qkaa.dtsi>
#include "nrf5340_cpuapp_common.dts"
#include "led_controller_nrf7002dk_nrf5340_cpuapp-pinctrl.dtsi"

/ {
	model = "Nordic NRF7002 DK (emulating NRF7001) NRF5340 Application";
	compatible = "nordic,nrf7002-dk-nrf5340-cpuapp";

	chosen {
		zephyr,sram = &sram0_image;
		zephyr,flash = &flash0;
		zephyr,code-partition = &slot0_partition;
		zephyr,sram-secure-partition = &sram0_s;
		zephyr,sram-non-secure-partition = &sram0_ns;
	};
};

&pwm_led0 {
	pwms = <&pwm0 0 PWM_MSEC(20) 0>,
		   <&pwm1 0 PWM_MSEC(20) PWM_POLARITY_NORMAL>,
		   <&pwm2 1 PWM_MSEC(20) 1>;
};

&pwm0_default {
	group1 {
		psels = <NRF_PSEL(PWM_OUT0, 1, 14)>;
		bias-pull-down;
	};
};

&sw_pwm {
	status = "disabled";
};

&pwm1 {
	status = "okay";
	pinctrl-0 = <&pwm1_default>;
	pinctrl-names = "default";
};

LED_BLUE: &pwm2 {
	status = "okay";
	pinctrl-0 = <&pwm2_default>;
	pinctrl-names = "default";
};

&pinctrl {
	pwm1_default: pwm1_default {
		group1 {
			psels = <NRF_PSEL(PWM_OUT0, 1, 12)>;
			bias-pull-down;
		};
	};

	pwm2_default: pwm2_default {
		group1 {
			psels = <NRF_PSEL(PWM_OUT0, 1, 13)>;
			bias-pull-down;
		};
	};
};
